import{r as s,j as e,R as S,k as N,a as L,l as I,m as x,b as A,P as T,n as _,o as E,p as F,O as M,q as k,N as h,s as l,t as w,v as b}from"./vendor-DNNjODWl.js";import{u as U,p as P,L as H}from"./layout-layout-public-Ctbs0n9a.js";import{L as D}from"./layout-layout-error-16AHpVKX.js";import{L as O}from"./layout-layout-private-wMzukJsE.js";import{P as $}from"./page-private-CvTEZPkf.js";import{P as q}from"./page-public-DMkghNDn.js";const j=s.createContext(null),z=()=>{const t=s.useContext(j);if(!t)throw new Error("useInfo must be used within an ProviderInfo");return t},ft=t=>{const[n,a]=s.useState(!0),[o,r]=s.useState({currency:null,language:null}),{changeLng:u}=U();s.useEffect(()=>{a(!0),setTimeout(()=>{r({currency:"â‚½",language:"rus"}),a(!1)},1500)},[]);const c=i=>{r(m=>({...m,...i})),i.language&&i.language!==o.language&&u(i.language)};return e.jsx(j.Provider,{value:{...o,onChange:c,isLoading:n},children:t.children})},B=t=>({pastResource:(o=>o==="jenesei_id")(t==null?void 0:t.pastResource)?t.pastResource:void 0}),G=s.createContext(null),V=t=>e.jsx(G.Provider,{value:{},children:t.children}),W="NAN Agency",J="1.0.12",Q="NAN Agency",K="NAN Agency",X="#ffffff",Y="prod",Z="https://api.dev.jenesei.ru",tt=".jenesei.ru",et="wss://api.dev.jenesei.ru",ot="auth_status",g=()=>s.useMemo(()=>({description:W,name:Q,shortName:K,themeColor:X,mode:Y,version:J,baseURL:Z,coreURL:tt,socketURL:et,cookieNameAccessToken:ot}),[]);function st(){const t=g();return s.useEffect(()=>{console.table(t)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx(nt,{})}),t.mode==="test"&&e.jsxs(e.Fragment,{children:[e.jsx(S,{buttonPosition:"bottom-left"}),e.jsx(N,{position:"bottom-right"})]})]})}const nt=()=>{const{shortName:t}=g(),{t:n}=L("translation"),{isLoading:a}=z(),o=s.useMemo(()=>!1,[]),r=s.useMemo(()=>!a,[a]),u=I(),c=x({select(f){return f.some(p=>p.fullPath===v.fullPath)}}),i=x({select(f){return f.some(p=>p.fullPath===d.fullPath)}});s.useEffect(()=>{o!==void 0&&(c?o||u({to:"/pu"}):i&&o&&u({to:"/pr"}))},[o,c,i,u]);const{screenActual:m}=A();return e.jsx(T,{gap:12,position:m==="mobile"?"bottom-center":"bottom-right",visibleToasts:3,zIndex:100,default:{genre:"black",button:{content:n("sonner.undo")}},children:e.jsx(_,{defaultPreview:{visible:r,defaultVisible:!1},defaultTitle:t,defaultDescription:n("meta.description"),isScrollOutlet:!0,defaultBgColor:"grayJanice",defaultStatusBarColor:"whiteStandard",main:{zIndex:0},children:e.jsx(at,{})})})},at=()=>{const{shortName:t}=g(),{t:n}=L("translation",{keyPrefix:"url.title"}),a=E({select:r=>r.location.pathname.replace(/\/$/,"")}),{changeTitle:o}=F();return s.useEffect(()=>{const r=n(a,{defaultValue:"__MISSING__"});o(r!=="__MISSING__"?r:t)},[o,t,a,n]),e.jsx(M,{})},R=k()({component:st,validateSearch:B,errorComponent:D,notFoundComponent:()=>e.jsx(h,{to:d.fullPath})}),v=l({getParentRoute:()=>R,component:O,notFoundComponent:()=>e.jsx(h,{to:y.fullPath}),path:"/pr",beforeLoad:t=>{if(t.location.pathname===`${P}pr`)throw b({to:"/pr/home"})}}),d=l({getParentRoute:()=>R,component:H,notFoundComponent:()=>e.jsx(h,{to:C.fullPath}),path:"/pu",beforeLoad:t=>{if(t.location.pathname===`${P}pu`)throw b({to:"/pu/home"})}}),y=l({getParentRoute:()=>v,component:$,path:"/home"}),C=l({getParentRoute:()=>d,component:q,path:"/home"}),rt=R.addChildren({LayoutRoutePublic:d.addChildren({PageRoutePublicHome:C}),LayoutRoutePrivate:v.addChildren({PageRoutePrivateHome:y})}),pt=w({routeTree:rt,context:{queryClient:void 0},basepath:P,defaultPreload:"intent",defaultPreloadStaleTime:0});export{ft as P,pt as r,z as u};
